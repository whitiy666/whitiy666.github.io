<html>
<head>
    <meta charset="utf-8"/>
<meta name="description" content=""/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>

<title>sliceåˆ‡ç‰‡-golangå¤ä¹  | Whitiy&#39;s Notes</title>

<link rel="shortcut icon" href="https://whitiy666.github.io/favicon.ico?v=1704179143652">

<link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://whitiy666.github.io/styles/main.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/css/bootstrap.min.css">

<script src="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets/highlight.min.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.15.10/languages/dockerfile.min.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.15.10/languages/dart.min.js"></script>

<script src="https://cdn.jsdelivr.net/npm/moment@2.27.0/moment.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/js/bootstrap.min.js"></script>
<!-- DEMO JS -->
<!--<script src="media/scripts/index.js"></script>-->



    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.css">
</head>
<body>
<div class="main gt-bg-theme-color-first">
    <nav class="navbar navbar-expand-lg">
    <div class="navbar-brand">
        <img class="user-avatar" src="/images/avatar.png" alt="å¤´åƒ">
        <div class="site-name gt-c-content-color-first">
            Whitiy&#39;s Notes
        </div>
    </div>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <i class="fas fa-bars gt-c-content-color-first" style="font-size: 18px"></i>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <div class="navbar-nav mr-auto" style="text-align: center">
            
                <div class="nav-item">
                    
                        <a href="/" class="menu gt-a-link">
                            é¦–é¡µ
                        </a>
                    
                </div>
            
                <div class="nav-item">
                    
                        <a href="/archives" class="menu gt-a-link">
                            å½’æ¡£
                        </a>
                    
                </div>
            
                <div class="nav-item">
                    
                        <a href="/tags" class="menu gt-a-link">
                            æ ‡ç­¾
                        </a>
                    
                </div>
            
                <div class="nav-item">
                    
                        <a href="/post/about" class="menu gt-a-link">
                            å…³äº
                        </a>
                    
                </div>
            
        </div>
        <div style="text-align: center">
            <form id="gridea-search-form" style="position: relative" data-update="1704179143652" action="/search/index.html">
                <input class="search-input" autocomplete="off" spellcheck="false" name="q" placeholder="æœç´¢æ–‡ç« " />
                <i class="fas fa-search gt-c-content-color-first" style="position: absolute; top: 9px; left: 10px;"></i>
            </form>
        </div>
    </div>
</nav>

    <div class="post-container">
        <div class="post-detail gt-bg-theme-color-second">
            <article class="gt-post-content">
                <h2 class="post-title">
                    sliceåˆ‡ç‰‡-golangå¤ä¹ 
                </h2>
                <div class="post-info">
                    <time class="post-time gt-c-content-color-first">
                        Â· 2022-11-29 Â·
                    </time>
                    
                </div>
                <div class="post-content">
                    <p>å¤ä¹ ä¸€ä¸‹åˆ‡ç‰‡ï¼Œslice</p>
<h2 id="ä¾‹å­">ä¾‹å­</h2>
<h4 id="demo1">demo1</h4>
<pre><code class="language-golang">func main() {
	arr := [...]int{0, 1, 2, 3, 4, 5, 6, 7} //æ•°ç»„
	s := arr[2:6]  //ä»æ•°ç»„å–2â€”6
	fmt.Println(s) //è¾“å‡º [2 3 4 5]
    fmt.Println(arr[:6]) // [0 1 2 3 4 5] çœç•¥å¤´ç›´æ¥ä»0å¼€å§‹
	fmt.Println(arr[2:])   // [2 3 4 5 6 7] çœç•¥å°¾å·´ç›´æ¥åˆ°æœ«å°¾
	fmt.Println(arr[:])  // [0 1 2 3 4 5 6 7]  å¤´å°¾éƒ½çœäº†å…¨éƒ¨éƒ½æœ‰
}
</code></pre>
<!-- more -->
<h3 id="demo2">demo2</h3>
<p>sliceä¸æ˜¯ä¸€ä¸ªå€¼ç±»å‹ï¼Œæ˜¯æ•°æ®ç»“æ„è§†å›¾<br>
<code>arr[:6]</code> æ˜¯å¯¹äº <code>arr</code>çš„ä¸€ä¸ªè§†å›¾<br>
<code>[]int</code> è¡¨ç¤ºä¸€ä¸ªslice æ²¡æœ‰...æˆ–è€…é•¿åº¦ï¼Œ<strong>ä¸æ•°ç»„åŒºåˆ«</strong></p>
<pre><code class="language-golang">func updateSlice(s []int) {
	s[0] = 100
}

func main() {
	arr := [...]int{0, 1, 2, 3, 4, 5, 6, 7}
	s1 := arr[2:] //[2 3 4 5 6 7]

	fmt.Println(s1) //	ä¿®æ”¹å‰  [2 3 4 5 6 7]
	updateSlice(s1) //æ‰§è¡Œä¿®æ”¹
	fmt.Println(s1) //[100 3 4 5 6 7]  //åˆ‡ç‰‡0çš„ä½ç½®æ”¹ä¸ºäº†100
	fmt.Println(arr) //[0 1 100 3 4 5 6 7]  åŸæ¥æ•°ç»„çš„ç›¸åº”ä½ç½®2 ä¹Ÿè¢«æ”¹æˆäº†100
}
</code></pre>
<p>å› ä¸ºs1ä½œä¸ºarrçš„ä¸€ä¸ªåˆ‡ç‰‡ï¼Œç®—æ˜¯ä¸€ä¸ªè§†å›¾ï¼Œæ‰€ä»¥s1æ”¹åŠ¨æ—¶å€™å½±å“åˆ°arræ•°ç»„çš„ç›¸åº”ä½ç½®ä¹Ÿå‘ç”Ÿæ”¹åŠ¨<br>
è²Œä¼¼ç”¨æ¥ä¿®æ”¹æ•°ç»„æ˜¯ä¸ªå¥½æ–¹æ¡ˆï¼Œçœå¾—ç”¨æŒ‡é’ˆæ”¹<br>
æ€»ç»“ï¼šsliceæœ¬èº«æ²¡æœ‰æ•°æ®ï¼Œsliceæ˜¯å¯¹åº•å±‚arrayçš„ä¸€ä¸ªè§†å›¾</p>
<h3 id="demo3">demo3</h3>
<p>reslice åœ¨sliceä¸Šé¢å»ºç«‹slice</p>
<pre><code class="language-golang">func main() {
   arr := [...]int{0, 1, 2, 3, 4, 5, 6, 7}
   s2 := arr[:] //å–å¾—arrå…¨éƒ¨
   fmt.Println(s2) //[0 1 2 3 4 5 6 7]

   s2 = s2[:5] //åœ¨s2ä¸Šé¢å–å¼€å§‹åˆ°5
   fmt.Println(s2) //[0 1 2 3 4]

   s2 = s2[2:] //åœ¨å»è¿‡å¼€å§‹åˆ°5åŸºç¡€ä¸Šçš„s2 ä¸Šé¢å†å–2åˆ°ç»“æŸ
   fmt.Println(s2) //[2 3 4]

}
</code></pre>
<p>å¯ä»¥åœ¨ä¸€ä¸ªåº•å±‚arrayä¸Šé¢å»ºç«‹å¤šä¸ªslice<br>
å¯ä»¥åœ¨sliceåŸºç¡€ä¸Šå†å»ºç«‹sliceï¼Œä½†æ˜¯åº•å±‚è¿˜æ˜¯åŒä¸€ä¸ªarray</p>
<h3 id="demo3-2">demo3</h3>
<p>extending slice æ‹“å±•slice</p>
<pre><code class="language-golang">func main() {
	arr := [...]int{0, 1, 2, 3, 4, 5, 6, 7}
	s1 := arr[2:6] 
	fmt.Println(s1) //[2 3 4 5]

	s2 := s1[3:5]  //åœ¨s1åŸºç¡€ä¸Šå– 3,4 ä½†æ˜¯å®é™…ä¸Šæœ€åå°±åªæœ‰ç¬¬3ä½æŒ‡å‘çš„5ï¼Œè€Œæ²¡æœ‰4æŒ‡å‘çš„ï¼ˆç›´æ¥æ‰“å°s1[4]éƒ½ä¼šæŠ¥é”™
	fmt.Println(s2) //[5 6]  //ç»“æœå–åˆ°äº†5 6ï¼Œâš ï¸ä½†æ˜¯6å‹æ ¹ä¸åœ¨s1é‡Œé¢

}
</code></pre>
<p>s2åœ¨s1ä¸Šé¢å–ï¼Œç„¶åå–åˆ°äº†å¹¶ä¸åœ¨s1ä¸­çš„æ•°æ®ï¼Œè¶…å‡ºçš„æ•°æ®å®é™…ä¸Šæ˜¯åº•å±‚arrçš„æ•°æ®â€”â€”åˆ‡ç‰‡çš„æ¨å±•<br>
sliceä¸‹é¢æœ‰ <code>ptr</code> <code>len</code> <code>cap</code>åªè¦ä¸è¶…è¿‡ <code>capå°±å¯ä»¥æ‹“å±• capæ˜¯åº•å±‚çš„array sliceå¯ä»¥å‘åæ‰©å±•ï¼Œä¸å¯ä»¥å‘å‰æ‰©å±• </code>s[i]<code> ä¸å¯ä»¥è¶…è¿‡</code>len(s)<code>,å‘åæ‰©å±•ä¸å¯ä»¥è¶…è¿‡åº•å±‚æ•°ç»„ </code>cap(s)`</p>
<h3 id="demo4">demo4</h3>
<p>lenå’Œcap</p>
<pre><code class="language-golang">func main() {
	arr := [...]int{0, 1, 2, 3, 4, 5, 6, 7}
	s1 := arr[2:6]
	fmt.Printf(&quot;%v,%d,%d&quot;, s1, len(s1), cap(s1)) //[2 3 4 5],4,6 lenå°±æ˜¯4ï¼Œcapå°±æ˜¯6ï¼ˆè¿˜å¯ä»¥å¾€åæ‹“å±•åˆ° [6 7]
}
</code></pre>
<p>lenå°±æ˜¯å½“å‰è§†å›¾sliceåˆ‡ç‰‡å®¹é‡ï¼Œcapå°±æ˜¯å‘åå¯ä»¥æ‹“å±•åˆ°åº•å±‚arrayæ•°ç»„çš„å®¹é‡</p>
<h3 id="demo5">demo5</h3>
<p>å‘slice appendæ“ä½œ</p>
<pre><code class="language-golang">func main() {
	arr := [...]int{0, 1, 2, 3, 4, 5, 6, 7}
	s2 := arr[5:7]                       //[5 6]
	s3 := append(s2, 10)                 //[5 6 10]
	s4 := append(s3, 11)                 //[5 6 10 11]
	s5 := append(s4, 12)                 // [5 6 10 11 12]
	fmt.Println(&quot;s3,s4,s5=&quot;, s3, s4, s5) //s3,s4,s5= [5 6 10] [5 6 10 11] [5 6 10 11 12]
	fmt.Println(&quot;arr=&quot;, arr) //arr= [0 1 2 3 4 5 6 10] //å³ä½¿ä¸Šé¢åŠ åˆ°äº†12ï¼Œä½†æ˜¯æœ€å¤šå¯¹åŸæ¥çš„åº•å±‚arrå½±å“ä¹Ÿåœ¨10ï¼Œæ²¡æœ‰è¶…è¿‡å®¹é‡
}
</code></pre>
<p>å³ä½¿ä¸Šé¢sliceæ•°æ®åŠ åˆ°äº†12ï¼Œä½†æ˜¯æœ€å¤šå¯¹åŸæ¥çš„åº•å±‚arrå½±å“ä¹Ÿåœ¨10ï¼Œæ²¡æœ‰è¶…è¿‡arrå®¹é‡ã€‚è€Œ11ï¼Œ12è¿™äº›å®é™…ä¸Šè¿›å…¥åˆ°äº†ä¸€ä¸ªæ–°å¼€çš„arrayé‡Œé¢ï¼ˆå®¹é‡æ¯”åŸæ¥çš„è¦å¤§ï¼‰â€”â€”&gt; s4,s5çš„sliceå·²ç»ä¸å†æ˜¯arrä¸ºåº•å±‚arrayï¼Œç”±ç³»ç»Ÿåˆ†é…äº†ä¸€ä¸ªæ–°çš„arrayä½œä¸ºåº•å±‚<br>
<strong>æ·»åŠ å…ƒç´ æ—¶è¶…è¿‡capï¼Œç³»ç»Ÿä¼šé‡æ–°åˆ†é…æ›´å¤§çš„åº•å±‚æ•°ç»„ï¼Œå¹¶ä¸”å¤åˆ¶åŸæ¥çš„å€¼</strong><br>
åŸæ¥çš„arræ•°ç»„å¦‚æœæœ‰ç”¨ä¼šè¢«ç•™ä¸‹ï¼Œæ²¡æœ‰ç”¨ä¼šè¢«åƒåœ¾å›æ”¶æœºåˆ¶å›æ”¶æ‰<br>
<strong>ç”±äºå€¼ä¼ é€’çš„å…³ç³»ï¼Œå¿…é¡»æ¥æ”¶appendçš„è¿”å›å€¼</strong><br>
ä¹Ÿå°±æ˜¯ç±»ä¼¼ <code>s = append(s,val)</code></p>
<h3 id="demo6">demo6</h3>
<h4 id="demo6-1">demo6-1</h4>
<p>åˆ›å»ºslice ç©ºçš„nilçš„ slice</p>
<pre><code class="language-golang">func printSlice(s []int) {
	fmt.Printf(&quot;len=%d,cap=%d\n&quot;, len(s), cap(s))
}
func main() {
	var s []int

	for i := 0; i &lt; 5; i++ {
		printSlice(s)
		s = append(s, 2*i+1)
	}
	fmt.Println(s)
}
</code></pre>
<p>è¾“å‡º</p>
<pre><code>len=0,cap=0
len=1,cap=1
len=2,cap=2
len=3,cap=4
len=4,cap=4
[1 3 5 7 9]
</code></pre>
<h4 id="demo6-2">demo6-2</h4>
<p><code>:= []int</code>åˆ›å»º</p>
<pre><code class="language-golang">func main() {
	s1 := []int{2, 4, 6, 8}
	printSlice_c(s1) //len=4,cap=4
}
</code></pre>
<h4 id="demo6-3">demo6-3</h4>
<p><code>make</code> çŸ¥é“sliceå®¹é‡ï¼Œä½†æ˜¯ä¸çŸ¥é“é‡Œé¢çš„å€¼</p>
<pre><code class="language-golang">func main() {
	s1 := make([]int, 16)
	s2 := make([]int, 10, 32)
	printSlice_d(s1) //len=16,cap=16
	printSlice_d(s2) //len=10,cap=32
}
</code></pre>
<h3 id="demo7">demo7</h3>
<p>å¤åˆ¶copy slice</p>
<pre><code class="language-golang">func main() {
	s1 := []int{1, 2, 3, 4} //[1 2 3 4]
	s2 := make([]int, 8)    //[0 0 0 0 0 0 0 0]
	copy(s2, s1) //æŠŠs1çš„å€¼å¤åˆ¶åˆ°s2
	fmt.Println(s2) //[1 2 3 4 0 0 0 0]

}
</code></pre>
<p>copy(å¤åˆ¶åˆ°çš„ä½ç½®ï¼Œç”¨äºå¤åˆ¶çš„æ•°æ®)</p>
<p>###demo8</p>
<h4 id="åˆ é™¤ä¸­é—´sliceçš„å€¼">åˆ é™¤ä¸­é—´sliceçš„å€¼</h4>
<pre><code class="language-golang">func main() {
	s1 := []int{1, 2, 3, 4, 5, 0, 0, 0}
	fmt.Println(s1) //[1 2 3 4 5 0 0 0]

	s1 = append(s1[:3], s1[4:]...) //åˆ é™¤äº†4
	fmt.Println(s1) //[1 2 3 5 0 0 0]
}
</code></pre>
<p>ç”±äºæ²¡æœ‰ç»™åˆ é™¤å€¼çš„å‡½æ•°ï¼Œæ‰€ä»¥ç”¨<code>append</code>æ¥å¤„ç†<br>
<code>s1[4:]...</code>ä¸­çš„<code>...</code>è¡¨ç¤ºæŠŠ4ä»¥åçš„å€¼å…¨éƒ¨å¾€å‰é¢æŒª</p>
<h4 id="åˆ é™¤é¦–å°¾sliceçš„å€¼">åˆ é™¤é¦–å°¾sliceçš„å€¼</h4>
<pre><code class="language-golang">func main() {
   s1 := []int{1, 2, 3, 4, 5, 0, 0, 0}
   fmt.Println(s1) //[1 2 3 4 5 0 0 0]

   //åˆ é™¤å¤´
   front := s1[0] //1
   s1 = s1[1:]
   
   //åˆ é™¤å°¾
   tail := s1[len(s1)-1] //0
   s1 = s1[:len(s1)-1]

   fmt.Println(front, tail) //1 0
   fmt.Println(s1)     //[2 3 4 5 0 0]
}
</code></pre>
<p>åˆ é™¤å¤´å°±æŠŠ <code>[1:]</code> çš„å€¼èµ‹ç»™åŸæ¥çš„slice<br>
åˆ é™¤å°¾å°±æŠŠ <code> [:len(s)-1]</code> çš„å€¼èµ‹ç»™åŸæ¥çš„slice<br>
åˆ é™¤ä¼šæ”¹å˜ <code>len</code>ï¼Œä¸ä¼šæ”¹å˜ <code>cap</code></p>
<h3 id="å®Œç»“æ’’èŠ±">å®Œç»“æ’’èŠ±ğŸ‰</h3>

                </div>
            </article>
        </div>

        
            <div class="next-post">
                <div class="next gt-c-content-color-first">ä¸‹ä¸€ç¯‡</div>
                <a href="https://whitiy666.github.io/post/golang-zhi-zhen-fu-xi-xiao-ji/" class="post-title gt-a-link">
                    golang-æŒ‡é’ˆå¤ä¹ å°è®°
                </a>
            </div>
        

        

        

        

        <div class="site-footer gt-c-content-color-first">
    <div class="slogan gt-c-content-color-first">Live with â¤ï¸</div>
    <div class="social-container">
        
            
        
            
        
            
        
            
        
            
        
            
        
    </div>
    <div class="footer-info">
        Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a>
    </div>
    <div>
        Theme by <a href="https://imhanjie.com/" target="_blank">imhanjie</a>, Powered by <a
                href="https://github.com/getgridea/gridea" target="_blank">Gridea | <a href="https://whitiy666.github.io/atom.xml" target="_blank">RSS</a></a>
    </div>
</div>

<script>
  hljs.initHighlightingOnLoad()
</script>

    </div>
</div>
</body>
</html>
